<div class="container">
    <div class="header">
        <div class="total-missions">
            <div class="title">Les tâches qui <br> vous sont assignées</div>
            <div class="total">
                <div class="nbr">100</div>
                <div class="txt">Total</div>
            </div>
        </div>
        <div class="missions-details">
            <div class="realized-missions">
                <div class="nbr">10</div>
                <div class="txt">Réalisées</div>
            </div>
            <div class="progress-missions">
                <div class="nbr">85</div>
                <div class="txt">En cours</div>
            </div>
            <div class="canceled-missions">
                <div class="nbr">05</div>
                <div class="txt">Annulées</div>
            </div>
        </div>
    </div>
    <div class="body">
        <div *ngFor="let mission of availableMissions; let i=index" class="mission-container">
            <div class="mission">
                <div class="mission-details">
                    <div class="title">
                        <div class="dates">{{ mission.start_date | date:'mediumDate' }} Jusqu'à {{ mission.end_date | date:'mediumDate' }}</div>
                        <div class="name">{{ mission.name }}</div>
                    </div>
                    <div class="icon">
                        <mat-icon fontIcon="list_alt"></mat-icon>
                    </div>
                </div>
                <div class="mission-desc">
                    {{ mission.descriprtion }}
                </div>
                <div class="mission-actions">
                    <div *ngIf="mission.status === 2" class="ico status" matTooltip="Mission en cours"><mat-icon fontIcon="pending" style="color: #EE9600;"></mat-icon></div>
                    <div *ngIf="mission.status === 1" class="ico status" matTooltip="Mission terminée"><mat-icon fontIcon="task_alt" style="color: green;"></mat-icon></div>
                    <div *ngIf="mission.status === -1" class="ico status" matTooltip="Mission échouée"><mat-icon fontIcon="cancel" style="color: red;"></mat-icon></div>
                    <div class="ico action" matTooltip="Reporter une action"><mat-icon fontIcon="report"></mat-icon></div>
                    <div class="ico attach-files" matTooltip="Attacher des fichiers au mission"><mat-icon fontIcon="drive_folder_upload" inline="true"></mat-icon></div>
                </div>
            </div>
            <div class="sub-missions" *ngIf="getRelatedSubMiss(mission.id?mission.id:-1).length > 0">
                <div class="submission-container" *ngFor="let submission of getRelatedSubMiss(mission.id?mission.id:-1)">
                    <div class="icon-container" >
                        <div class="icon" (click)="openSubmissionsQst(submission.id, submission.name)"><mat-icon fontIcon="arrow_forward"></mat-icon></div>
                    </div>
                    <div class="title">{{ submission.name }}</div>
                </div>
            </div>
            <div class="sub-missions" *ngIf="getRelatedSubMiss(mission.id?mission.id:-1).length===0">
                <div class="submission-container">
                    <div class="icon-container" >
                        <div class="icon"><mat-icon fontIcon="last_page"></mat-icon></div>
                    </div>
                    <div class="title">Aucune sous-mission affectée</div>
                </div>
            </div>
        </div>
    </div>
</div>
